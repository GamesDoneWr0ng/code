from copy import copy
data = """#############################################################################################################################################
###.................#...............#...#...###.............#.....#...###...###.......#...#.......#...#.....#...#.........#.......#...#.....#
###.###############.#.#############.#.#.#.#.###.###########.#.###.#.#.###.#.###.#####.#.#.#.#####.#.#.#.###.#.#.#.#######.#.#####.#.#.#.###.#
#...#...#.....#.....#.........#.....#.#...#...#.#...........#.#...#.#.#...#...#.....#.#.#.#.....#.#.#.#...#...#...#...#...#.#.....#.#.#.#...#
#.###.#.#.###.#.#############.#.#####.#######.#.#.###########.#.###.#.#.#####.#####.#.#.#.#####.#.#.#.###.#########.#.#.###.#.#####.#.#.#.###
#.....#...#...#.#...###.......#.#...#.......#...#.........#...#.#...#.#.....#...#...#.#.#...###.#...#...#.#.........#...###.#.....#.#...#...#
###########.###.#.#.###.#######.#.#.#######.#############.#.###.#.###.#####.###.#.###.#.###.###.#######.#.#.###############.#####.#.#######.#
###...#...#...#...#...#.......#...#...###...#...#...#.....#...#...#...###...#...#...#.#...#.....#.......#.#...#.............#.....#...#.....#
###.#.#.#.###.#######.#######.#######.###.###.#.#.#.#.#######.#####.#####.###.#####.#.###.#######.#######.###.#.#############.#######.#.#####
#...#...#.###.#.......#.......#.......#...#...#...#...#...###.....#.#...#...#.#####.#...#.....#...###...#.#...#.#.......#...#.....#...#.#...#
#.#######.###.#.#######.#######.#######.###.###########.#.#######.#.#.#.###.#.#####.###.#####.#.#####.#.#.#.###.#.#####.#.#.#####.#.###.#.#.#
#.......#.#...#...#...#.......#.#.....#.#...#...#...#...#.....#...#.#.#.....#...#...#...#.....#.#...#.#...#...#.#...###...#.....#.#...#.#.#.#
#######.#.#.#####.#.#.#######.#.#.###.#.#.###.#.#.#.#.#######.#.###.#.#########.#.###.###.#####.#.#.#.#######.#.###.###########.#.###.#.#.#.#
#...#...#.#.....#...#.........#.#...#.#.#.###.#...#.#.#.......#...#.#.........#.#...#.....#.....#.#.#.....#...#.#...#.....#...#.#.###.#.#.#.#
#.#.#.###.#####.###############.###.#.#.#.###.#####.#.#.#########.#.#########.#.###.#######.#####.#.#####.#.###.#.###.###.#.#.#.#.###.#.#.#.#
#.#.#...#...###...............#.###.#...#.....#.....#.#.#...#...#.#.###...###.#...#.......#...#...#.......#.....#.....#...#.#.#...#...#...#.#
#.#.###.###.#################.#.###.###########.#####.#.#.#.#.#.#.#.###.#.###.###.#######.###.#.#######################.###.#.#####.#######.#
#.#...#.#...#...#...#...#.....#.....#.........#.......#...#.#.#...#.#...#...#...#.....#...#...#.....#...................#...#.#...#...#.....#
#.###.#.#.###.#.#.#.#.#.#.###########.#######.#############.#.#####.#.#####.###.#####.#.###.#######.#.###################.###.#.#.###.#.#####
#...#.#.#...#.#...#.#.#.#.........#...###...#...............#.....#.#.....#.#...#.....#...#.#...#...#...#...#...........#...#...#.#...#.....#
###.#.#.###.#.#####.#.#.#########.#.#####.#.#####################.#.#####.#.#.###.#######.#.#.#.#.#####.#.#.#.#########.###.#####.#.#######.#
#...#.#...#...#...#...#.......###.#.......#...#.....#...#...###...#.....#.#...#...#.....#.#...#.#...#...#.#.#.#.........#...#.....#.#...#...#
#.###.###.#####.#.###########.###.###########.#.###.#.#.#.#.###.#######.#.#####.###.###.#.#####.###.#.###.#.#.#.#########.###.#####.#.#.#.###
#...#...#.......#...#.......#.....#...........#...#.#.#...#.#...#.......#.#...#...#...#.#.#.....#...#.###.#.#.#.....#...#.#...#...#.#.#...###
###.###.###########.#.#####.#######.#############.#.#.#####.#.###.#######.#.#.###.###.#.#.#.#####.###.###.#.#.#####.#.#.#.#.###.#.#.#.#######
###...#.....###...#...#...#.......#.....###.......#.#.#.....#...#.###...#...#...#.#...#...#.#...#...#.#...#...#.....#.#.#.#.....#...#...#...#
#####.#####.###.#.#####.#.#######.#####.###.#######.#.#.#######.#.###.#.#######.#.#.#######.#.#.###.#.#.#######.#####.#.#.#############.#.#.#
#...#.#.....#...#.#.....#.#...###.....#.....#.......#.#.#.....#.#...#.#...#...#.#.#.......#...#...#.#...#.....#...#...#.#.#...........#...#.#
#.#.#.#.#####.###.#.#####.#.#.#######.#######.#######.#.#.###.#.###.#.###.#.#.#.#.#######.#######.#.#####.###.###.#.###.#.#.#########.#####.#
#.#...#.#...#...#.#.....#.#.#.#...#...#.......#...###.#.#...#.#...#...#...#.#.#.#.#...#...#.......#...#...###...#...#...#.#.#.......#.#...#.#
#.#####.#.#.###.#.#####.#.#.#.#.#.#.###.#######.#.###.#.###.#.###.#####.###.#.#.#.#.#.#.###.#########.#.#######.#####.###.#.#.#####.#.#.#.#.#
#.#...#...#.....#.......#...#.#.#.#...#...#...#.#...#.#...#.#.#...#.....#E..#.#.#.#.#.#...#...#...#...#.......#.#...#...#.#.#.#.....#...#.#.#
#.#.#.#######################.#.#.###.###.#.#.#.###.#.###.#.#.#.###.#########.#.#.#.#.###.###.#.#.#.#########.#.#.#.###.#.#.#.#.#########.#.#
#.#.#.......................#...#.###.#...#.#.#.#...#...#.#.#.#.#...#...#####.#.#.#.#.###.#...#.#.#...#.......#.#.#...#...#...#.....#...#...#
#.#.#######################.#####.###.#.###.#.#.#.#####.#.#.#.#.#.###.#.#####.#.#.#.#.###.#.###.#.###.#.#######.#.###.#############.#.#.#####
#.#.#.....................#...#...#...#.#...#.#.#.#...#.#.#.#.#.#...#.#...###.#.#.#.#...#.#...#.#.#...#...#...#...###...............#.#.....#
#.#.#.###################.###.#.###.###.#.###.#.#.#.#.#.#.#.#.#.###.#.###.###.#.#.#.###.#.###.#.#.#.#####.#.#.#######################.#####.#
#.#.#.........#...#.....#.....#...#.#...#...#.#.#.#.#...#.#.#.#.#...#.#...###.#.#...###.#...#.#.#.#.#...#...#.....#...................#...#.#
#.#.#########.#.#.#.###.#########.#.#.#####.#.#.#.#.#####.#.#.#.#.###.#.#####.#.#######.###.#.#.#.#.#.#.#########.#.###################.#.#.#
#...#.........#.#...###.........#...#.....#.#.#.#.#.###...#.#...#.#...#.#####.#.......#.....#...#.#.#.#...........#.....#.......#...#...#...#
#####.#########.###############.#########.#.#.#.#.#.###.###.#####.#.###.#####.#######.###########.#.#.#################.#.#####.#.#.#.#######
#...#...........###.............#.......#...#...#.#...#.#...#...#.#.#...#####...#...#...........#...#.........#...###...#.....#...#...#...###
#.#.###############.#############.#####.#########.###.#.#.###.#.#.#.#.#########.#.#.###########.#############.#.#.###.#######.#########.#.###
#.#.......#...###...#.............#...#.......#...#...#.#.....#.#...#.#...#####.#.#...#...#...#.###...###...#...#...#...#.....#...###...#...#
#.#######.#.#.###.###.#############.#.#######.#.###.###.#######.#####.#.#.#####.#.###.#.#.#.#.#.###.#.###.#.#######.###.#.#####.#.###.#####.#
#.......#...#.....#...#.............#.#.......#...#...#...#...#.#.....#.#.#####.#...#.#.#...#.#.#...#.....#.......#.....#...#...#...#...#...#
#######.###########.###.#############.#.#########.###.###.#.#.#.#.#####.#.#####.###.#.#.#####.#.#.###############.#########.#.#####.###.#.###
#.......#...#.....#.#...#.......#...#...#...#####.....#...#.#.#.#.....#.#...###...#.#...#...#...#...............#.#...#.....#.....#.....#...#
#.#######.#.#.###.#.#.###.#####.#.#.#####.#.###########.###.#.#.#####.#.###.#####.#.#####.#.###################.#.#.#.#.#########.#########.#
#.....#...#...###...#.....#...#...#.#...#.#...###...###.....#.#.#.....#.#...#####...#.....#.#...#...............#...#.#.........#.#.....#...#
#####.#.###################.#.#####.#.#.#.###.###.#.#########.#.#.#####.#.###########.#####.#.#.#.###################.#########.#.#.###.#.###
#.....#.#...............#...#...#...#.#.#.#...#...#.......###.#.#...#...#.#...###S..#.....#.#.#.#.........#...#...###...........#.#.###...###
#.#####.#.#############.#.#####.#.###.#.#.#.###.#########.###.#.###.#.###.#.#.#####.#####.#.#.#.#########.#.#.#.#.###############.#.#########
#.....#.#...#.........#.#.....#.#.....#...#.....#...#...#...#.#...#.#...#...#...#...#.....#.#.#.#...#...#...#...#...#.........#...#...#.....#
#####.#.###.#.#######.#.#####.#.#################.#.#.#.###.#.###.#.###.#######.#.###.#####.#.#.#.#.#.#.###########.#.#######.#.#####.#.###.#
#...#...###...#...#...#.......#...........#...#...#.#.#.#...#.#...#.#...#.......#.###.#...#...#...#...#.............#.#.......#...#...#.#...#
#.#.###########.#.#.#####################.#.#.#.###.#.#.#.###.#.###.#.###.#######.###.#.#.###########################.#.#########.#.###.#.###
#.#.#...#...###.#.#.........#...#.......#...#...###...#...###...###.#...#...#...#...#.#.#...#...#.....#.........#...#.#...........#.....#...#
#.#.#.#.#.#.###.#.#########.#.#.#.#####.###########################.###.###.#.#.###.#.#.###.#.#.#.###.#.#######.#.#.#.#####################.#
#.#...#...#.....#.........#.#.#...#...#.#...........#.........#...#...#...#...#.#...#.#.#...#.#.#.###...#.......#.#...#...#...#.....#...#...#
#.#######################.#.#.#####.#.#.#.#########.#.#######.#.#.###.###.#####.#.###.#.#.###.#.#.#######.#######.#####.#.#.#.#.###.#.#.#.###
#...#.........#.........#.#.#.#.....#...#...#.......#.#.......#.#...#.....#.....#...#...#.....#...#.......#...###.#.....#...#...###...#...###
###.#.#######.#.#######.#.#.#.#.###########.#.#######.#.#######.###.#######.#######.###############.#######.#.###.#.#########################
#...#.#.....#.#.#.......#.#...#.............#.........#...#.....#...#.......#.......#...###...#...#...#.....#.....#.........###.............#
#.###.#.###.#.#.#.#######.###############################.#.#####.###.#######.#######.#.###.#.#.#.###.#.###################.###.###########.#
#.....#...#.#...#...#...#.............#.....#.....#.....#...#...#...#.....#...#.......#.#...#...#...#...#...#.....#.........#...#.....#.....#
#########.#.#######.#.#.#############.#.###.#.###.#.###.#####.#.###.#####.#.###.#######.#.#########.#####.#.#.###.#.#########.###.###.#.#####
#.........#...#...#...#.............#.#...#.#...#...###.......#...#.#...#...###.......#.#.#.......#.......#...###...#...#...#.#...###.#.....#
#.###########.#.#.#################.#.###.#.###.#################.#.#.#.#############.#.#.#.#####.###################.#.#.#.#.#.#####.#####.#
#.#...#...#...#.#...................#.....#.....#.............#...#.#.#.#.......#.....#...#.#.....#...................#...#...#.....#.......#
#.#.#.#.#.#.###.#################################.###########.#.###.#.#.#.#####.#.#########.#.#####.###############################.#########
#.#.#...#.#.....#.......#...#...#.....#...........#.........#.#...#.#.#.#.#...#...#.........#.....#.#.........#.................#...###...###
#.#.#####.#######.#####.#.#.#.#.#.###.#.###########.#######.#.###.#.#.#.#.#.#.#####.#############.#.#.#######.#.###############.#.#####.#.###
#.#.#.....#.......#.....#.#.#.#...#...#...#...#...#.......#.#...#...#.#.#...#.......#...........#...#.......#...#.............#...#...#.#...#
#.#.#.#####.#######.#####.#.#.#####.#####.#.#.#.#.#######.#.###.#####.#.#############.#########.###########.#####.###########.#####.#.#.###.#
#...#.....#.###...#.......#...#...#.......#.#...#.#...#...#.....#.....#...#...........#.......#.............#...#...#.........#...#.#...#...#
#########.#.###.#.#############.#.#########.#####.#.#.#.#########.#######.#.###########.#####.###############.#.###.#.#########.#.#.#####.###
#.....#...#.#...#...............#.........#.#...#...#.#.#.......#.......#.#...#...#...#.....#...............#.#...#.#.#...###...#...#...#...#
#.###.#.###.#.###########################.#.#.#.#####.#.#.#####.#######.#.###.#.#.#.#.#####.###############.#.###.#.#.#.#.###.#######.#.###.#
#...#...#...#...#...#.......#...#.....#...#...#.....#.#.#.#...#.#.......#...#...#...#.#.....###.............#.#...#.#.#.#...#.#.......#.....#
###.#####.#####.#.#.#.#####.#.#.#.###.#.###########.#.#.#.#.#.#.#.#########.#########.#.#######.#############.#.###.#.#.###.#.#.#############
#...#...#.#...#...#...#...#...#...#...#.....#.......#...#.#.#...#.......#...###.....#...#.....#.......#.......#.....#...#...#.#.........#...#
#.###.#.#.#.#.#########.#.#########.#######.#.###########.#.###########.#.#####.###.#####.###.#######.#.#################.###.#########.#.#.#
#.#...#.#.#.#...........#.....#...#.......#.#...#.....#...#...#...#...#.#.###...#...#...#...#.#...#...#.#.........#.....#...#.#.........#.#.#
#.#.###.#.#.#################.#.#.#######.#.###.#.###.#.#####.#.#.#.#.#.#.###.###.###.#.###.#.#.#.#.###.#.#######.#.###.###.#.#.#########.#.#
#.#.#...#.#.#...#...#.......#...#.........#.....#.#...#...#...#.#.#.#.#.#.#...#...#...#.....#.#.#.#.....#.....#...#.###...#...#...###.....#.#
#.#.#.###.#.#.#.#.#.#.#####.#####################.#.#####.#.###.#.#.#.#.#.#.###.###.#########.#.#.###########.#.###.#####.#######.###.#####.#
#.#.#.....#...#...#...#...#...............#...###.#.###...#...#.#.#.#.#.#.#...#.###.........#...#...........#.#...#.....#...#...#...#.#...#.#
#.#.###################.#.###############.#.#.###.#.###.#####.#.#.#.#.#.#.###.#.###########.###############.#.###.#####.###.#.#.###.#.#.#.#.#
#.#.#.......#...........#.........#...#...#.#.#...#...#.....#...#.#.#.#.#.#...#.........#...#.....#.......#.#...#.....#...#...#...#...#.#.#.#
#.#.#.#####.#.###################.#.#.#.###.#.#.#####.#####.#####.#.#.#.#.#.###########.#.###.###.#.#####.#.###.#####.###.#######.#####.#.#.#
#...#.....#.#...................#...#.#.#...#...#.....#...#.....#...#.#.#.#.#...#.....#.#...#.#...#.#.....#.....#...#...#.....###.......#...#
#########.#.###################.#####.#.#.#######.#####.#.#####.#####.#.#.#.#.#.#.###.#.###.#.#.###.#.###########.#.###.#####.###############
###...#...#...#...###...#.......#...#...#...#.....#...#.#.#...#.....#...#...#.#...###.#...#.#.#...#.#.............#.###.#...#...............#
###.#.#.#####.#.#.###.#.#.#######.#.#######.#.#####.#.#.#.#.#.#####.#########.#######.###.#.#.###.#.###############.###.#.#.###############.#
#...#.#.....#...#.....#.#.....#...#...#.....#...###.#...#...#...#...#...#...#.#.....#...#.#.#.###...###.............#...#.#.........#.......#
#.###.#####.###########.#####.#.#####.#.#######.###.###########.#.###.#.#.#.#.#.###.###.#.#.#.#########.#############.###.#########.#.#######
#...#.......#...#.....#.....#...#.....#...#...#...#.....#.......#...#.#...#.#.#...#...#...#...#...#...#...#...###...#...#.........#...#...###
###.#########.#.#.###.#####.#####.#######.#.#.###.#####.#.#########.#.#####.#.###.###.#########.#.#.#.###.#.#.###.#.###.#########.#####.#.###
###...#.......#...#...#...#.#...#.....###...#.#...###...#.#...###...#.....#...###.#...#...###...#.#.#.###...#.....#...#.#.........###...#...#
#####.#.###########.###.#.#.#.#.#####.#######.#.#####.###.#.#.###.#######.#######.#.###.#.###.###.#.#.###############.#.#.###########.#####.#
#...#.#.#...........#...#.#...#.......#...#...#.....#...#.#.#...#...#.....###...#.#...#.#.#...#...#.#...............#.#.#.#...........#.....#
#.#.#.#.#.###########.###.#############.#.#.#######.###.#.#.###.###.#.#######.#.#.###.#.#.#.###.###.###############.#.#.#.#.###########.#####
#.#.#...#.#...#.....#...#...#...#...###.#.#...#.....###.#.#.#...###.#.###...#.#.#...#.#.#.#.#...###...........#...#...#...#.#.....#...#.....#
#.#.#####.#.#.#.###.###.###.#.#.#.#.###.#.###.#.#######.#.#.#.#####.#.###.#.#.#.###.#.#.#.#.#.###############.#.#.#########.#.###.#.#.#####.#
#.#.#...#...#...###.....#...#.#...#.#...#.#...#.#...#...#.#.#.#.....#...#.#.#.#.....#.#.#...#...#.......#...#...#.....#...#.#...#.#.#.#...#.#
#.#.#.#.#################.###.#####.#.###.#.###.#.#.#.###.#.#.#.#######.#.#.#.#######.#.#######.#.#####.#.#.#########.#.#.#.###.#.#.#.#.#.#.#
#.#...#...............###.#...#.....#.#...#...#.#.#.#...#.#.#...###.....#.#.#...#.....#.......#.#.###...#.#.#.......#...#...#...#...#...#...#
#.###################.###.#.###.#####.#.#####.#.#.#.###.#.#.#######.#####.#.###.#.###########.#.#.###.###.#.#.#####.#########.###############
#.#...#...#.........#.#...#...#.#...#.#...#...#.#.#...#.#.#.......#.....#.#.#...#...#.....#...#.#...#.#...#.#...#...#...#...#...#.....#.....#
#.#.#.#.#.#.#######.#.#.#####.#.#.#.#.###.#.###.#.###.#.#.#######.#####.#.#.#.#####.#.###.#.###.###.#.#.###.###.#.###.#.#.#.###.#.###.#.###.#
#.#.#.#.#...###.....#...#.....#...#.#.#...#.#...#...#.#.#.#.....#.....#.#.#.#.....#.#...#.#.###.#...#.#.###.#...#.#...#...#.....#...#.#.#...#
#.#.#.#.#######.#########.#########.#.#.###.#.#####.#.#.#.#.###.#####.#.#.#.#####.#.###.#.#.###.#.###.#.###.#.###.#.###############.#.#.#.###
#...#...###...#.....#...#...#.......#.#.#...#...#...#...#.#.#...#...#.#...#...#...#.#...#.#...#.#.#...#...#...#...#.....###...#...#.#.#.#.###
###########.#.#####.#.#.###.#.#######.#.#.#####.#.#######.#.#.###.#.#.#######.#.###.#.###.###.#.#.#.#####.#####.#######.###.#.#.#.#.#.#.#.###
#...........#.......#.#.#...#.....#...#.#...#...#.....###.#.#...#.#.#...#.....#.#...#.#...#...#.#.#.....#...###.#.....#.....#...#...#...#...#
#.###################.#.#.#######.#.###.###.#.#######.###.#.###.#.#.###.#.#####.#.###.#.###.###.#.#####.###.###.#.###.#####################.#
#.....#.........#...#.#.#.#.......#...#...#.#.#.....#.#...#.#...#.#...#.#.....#.#.#...#...#.###.#.....#...#...#...#...#.....#.............#.#
#####.#.#######.#.#.#.#.#.#.#########.###.#.#.#.###.#.#.###.#.###.###.#.#####.#.#.#.#####.#.###.#####.###.###.#####.###.###.#.###########.#.#
#...#...#.......#.#...#.#.#.....#...#.#...#.#.#...#...#...#.#.#...#...#.#...#...#.#.....#.#.#...#.....###...#.....#...#...#.#.....#...###...#
#.#.#####.#######.#####.#.#####.#.#.#.#.###.#.###.#######.#.#.#.###.###.#.#.#####.#####.#.#.#.###.#########.#####.###.###.#.#####.#.#.#######
#.#.#...#.......#.....#.#...#...#.#...#.....#...#...#.....#.#.#...#.#...#.#.......#.....#...#...#.......#...#...#.#...#...#.....#.#.#.......#
#.#.#.#.#######.#####.#.###.#.###.#############.###.#.#####.#.###.#.#.###.#########.###########.#######.#.###.#.#.#.###.#######.#.#.#######.#
#.#...#.........#...#.#...#.#.#...#.............#...#.....#.#...#.#...#...#.......#.........###...#...#.#...#.#.#.#.#...#...#...#...#...#...#
#.###############.#.#.###.#.#.#.###.#############.#######.#.###.#.#####.###.#####.#########.#####.#.#.#.###.#.#.#.#.#.###.#.#.#######.#.#.###
#.......#...#...#.#.#...#...#.#...#.........#...#.....#...#...#.#.....#.....#.....#...#...#.#.....#.#.#...#.#.#.#.#.#.....#.#.....#...#...###
#######.#.#.#.#.#.#.###.#####.###.#########.#.#.#####.#.#####.#.#####.#######.#####.#.#.#.#.#.#####.#.###.#.#.#.#.#.#######.#####.#.#########
#.......#.#.#.#...#.#...#.....#...#.........#.#...#...#.#.....#.#.....###.....#...#.#...#...#.#...#.#.#...#.#.#...#.#.....#.#.....#.........#
#.#######.#.#.#####.#.###.#####.###.#########.###.#.###.#.#####.#.#######.#####.#.#.#########.#.#.#.#.#.###.#.#####.#.###.#.#.#############.#
#.#.......#.#.....#.#...#...#...###.........#.#...#.###.#.#.....#.....#...#...#.#.#.........#.#.#.#.#.#.#...#...###...###...#.....#.........#
#.#.#######.#####.#.###.###.#.#############.#.#.###.###.#.#.#########.#.###.#.#.#.#########.#.#.#.#.#.#.#.#####.#################.#.#########
#...#.......#...#.#.#...#...#...#...........#.#...#.#...#.#.....#.....#.#...#.#.#.#.......#.#.#.#...#.#.#.#...#.....#...#...###...#.........#
#####.#######.#.#.#.#.###.#####.#.###########.###.#.#.###.#####.#.#####.#.###.#.#.#.#####.#.#.#.#####.#.#.#.#.#####.#.#.#.#.###.###########.#
#.....#.....#.#.#.#.#...#...#...#.#.....#...#.###.#.#.#...#.....#.#.....#...#...#.#...#...#.#.#.....#...#...#.#...#...#...#...#.#...#.......#
#.#####.###.#.#.#.#.###.###.#.###.#.###.#.#.#.###.#.#.#.###.#####.#.#######.#####.###.#.###.#.#####.#########.#.#.###########.#.#.#.#.#######
#.#...#...#.#.#...#.#...###.#...#.#...#...#.#...#.#.#...###.....#.#...#.....###...#...#...#.#.#...#.#...#.....#.#.#.......#...#.#.#.#.###...#
#.#.#.###.#.#.#####.#.#####.###.#.###.#####.###.#.#.###########.#.###.#.#######.###.#####.#.#.#.#.#.#.#.#.#####.#.#.#####.#.###.#.#.#.###.#.#
#.#.#.#...#.#...#...#...#...#...#.#...#.....#...#.#.#...........#...#.#.......#...#.....#.#.#.#.#.#.#.#...#...#.#.#.#.....#...#.#.#.#.....#.#
#.#.#.#.###.###.#.#####.#.###.###.#.###.#####.###.#.#.#############.#.#######.###.#####.#.#.#.#.#.#.#.#####.#.#.#.#.#.#######.#.#.#.#######.#
#...#...###.....#.......#.....###...###.......###...#...............#.........###.......#...#...#...#.......#...#...#.........#...#.........#
#############################################################################################################################################"""

# data = """###############
# #...#...#.....#
# #.#.#.#.#.###.#
# #S#...#.#.#...#
# #######.#.#.###
# #######.#.#...#
# #######.#.###.#
# ###..E#...#...#
# ###.#######.###
# #...###...#...#
# #.#####.#.###.#
# #.#...#.#.#...#
# #.#.#.#.#.#.###
# #...#...#...###
# ###############"""

data = """#############################################################################################################################################
#.......###...#...###.....###...#...#.......#...#.............###.......#...#####.........#.....#...........###.......#...#.....#...###...###
#.#####.###.#.#.#.###.###.###.#.#.#.#.#####.#.#.#.###########.###.#####.#.#.#####.#######.#.###.#.#########.###.#####.#.#.#.###.#.#.###.#.###
#.#...#.....#...#...#...#.....#.#.#.#...#...#.#.#...........#.#...#.....#.#...#...#.....#.#.#...#.....#.....#...#.....#.#.#.#...#.#...#.#...#
#.#.#.#############.###.#######.#.#.###.#.###.#.###########.#.#.###.#####.###.#.###.###.#.#.#.#######.#.#####.###.#####.#.#.#.###.###.#.###.#
#...#.........#...#...#...#...#...#.#...#.#...#...###...###.#.#.#...#...#.#...#.....#...#.#.#...#...#.#...###...#.....#.#.#.#...#.#...#...#.#
#############.#.#.###.###.#.#.#####.#.###.#.#####.###.#.###.#.#.#.###.#.#.#.#########.###.#.###.#.#.#.###.#####.#####.#.#.#.###.#.#.#####.#.#
###...###...#...#.#...###...#...#...#...#...#.....#...#.....#...#.....#.#.#.......###...#...#...#.#.#...#.#...#.#.....#.#...#...#.#.#...#.#.#
###.#.###.#.#####.#.###########.#.#####.#####.#####.###################.#.#######.#####.#####.###.#.###.#.#.#.#.#.#####.#####.###.#.#.#.#.#.#
#...#.....#.#.....#.......#...#.#.#...#.....#.#...#.........#.....#.....#.#.......#...#.#.....#...#.###.#...#.#.#.#...#...#...###.#.#.#.#.#.#
#.#########.#.###########.#.#.#.#.#.#.#####.#.#.#.#########.#.###.#.#####.#.#######.#.#.#.#####.###.###.#####.#.#.#.#.###.#.#####.#.#.#.#.#.#
#.........#.#.........#...#.#...#...#.#.....#.#.#.....###...#...#...#...#.#...#...#.#...#.#...#...#.#...#.....#.#.#.#.###.#.#...#.#...#...#.#
#########.#.#########.#.###.#########.#.#####.#.#####.###.#####.#####.#.#.###.#.#.#.#####.#.#.###.#.#.###.#####.#.#.#.###.#.#.#.#.#########.#
#.........#.#.........#.....#.....#...#.....#.#...#...#...#.....#...#.#.#.#...#.#.#...#...#.#.###.#.#.#...###...#.#.#...#.#.#.#.#.#.........#
#.#########.#.###############.###.#.#######.#.###.#.###.###.#####.#.#.#.#.#.###.#.###.#.###.#.###.#.#.#.#####.###.#.###.#.#.#.#.#.#.#########
#.........#.#...............#.#...#.###.....#.....#...#...#.#...#.#...#.#.#...#.#...#.#.#...#.#...#...#.....#...#.#.#...#.#.#.#.#.#.....#...#
#########.#.###############.#.#.###.###.#############.###.#.#.#.#.#####.#.###.#.###.#.#.#.###.#.###########.###.#.#.#.###.#.#.#.#.#####.#.#.#
#.....#...#.#...#...#...###...#...#...#.............#.#...#...#.#.#.....#.#...#...#.#.#.#...#.#...#.........#...#...#.#...#.#.#...#...#...#.#
#.###.#.###.#.#.#.#.#.#.#########.###.#############.#.#.#######.#.#.#####.#.#####.#.#.#.###.#.###.#.#########.#######.#.###.#.#####.#.#####.#
#.#...#...#.#.#.#.#...#.#...#.....#...#.........#...#.#.....#...#.#.....#.#...#...#...#...#.#.#...#.#...#.....#.....#.#...#...#.....#.....#.#
#.#.#####.#.#.#.#.#####.#.#.#.#####.###.#######.#.###.#####.#.###.#####.#.###.#.#########.#.#.#.###.#.#.#.#####.###.#.###.#####.#########.#.#
#.#.....#.#.#.#.#.....#.#.#.#.....#.###.....#...#...#.#...#.#.###.#.....#.#...#.....#.....#.#.#...#.#.#.#...#...###...#...#...#...#.....#...#
#.#####.#.#.#.#.#####.#.#.#.#####.#.#######.#.#####.#.#.#.#.#.###.#.#####.#.#######.#.#####.#.###.#.#.#.###.#.#########.###.#.###.#.###.#####
#.....#...#.#.#.#...#.#.#.#.#...#.#...#...#.#.#.....#.#.#...#.....#...#...#.....###.#.....#.#...#.#.#.#.#...#.....###...#...#...#...#...#...#
#####.#####.#.#.#.#.#.#.#.#.#.#.#.###.#.#.#.#.#.#####.#.#############.#.#######.###.#####.#.###.#.#.#.#.#.#######.###.###.#####.#####.###.#.#
#...#.#...#...#...#...#...#...#.#...#.#.#.#.#.#.#...#.#...#...........#.....#...#...#.....#...#...#.#.#...#.......#...#...#...#.....#...#.#.#
#.#.#.#.#.#####################.###.#.#.#.#.#.#.#.#.#.###.#.###############.#.###.###.#######.#####.#.#####.#######.###.###.#.#####.###.#.#.#
#.#...#.#.......#.............#...#.#.#.#.#.#...#.#...#...#.......#...#...#.#...#...#.#.....#.....#.#.#.....#.....#.#...#...#.....#.....#.#.#
#.#####.#######.#.###########.###.#.#.#.#.#.#####.#####.#########.#.#.#.#.#.###.###.#.#.###.#####.#.#.#.#####.###.#.#.###.#######.#######.#.#
#.#...#.#.......#.###...#...#.#...#.#.#.#.#...#...#...#...#.....#.#.#.#.#.#...#...#.#.#.#...#...#.#.#.#.#...#...#.#.#...#.......#.......#.#.#
#.#.#.#.#.#######.###.#.#.#.#.#.###.#.#.#.###.#.###.#.###.#.###.#.#.#.#.#.###.###.#.#.#.#.###.#.#.#.#.#.#.#.###.#.#.###.#######.#######.#.#.#
#...#...#.........#...#...#...#...#.#.#.#...#.#.#...#...#.#...#...#.#...#.#...#...#.#.#.#...#.#...#.#.#.#.#.....#...#...###.....#.......#.#.#
###################.#############.#.#.#.###.#.#.#.#####.#.###.#####.#####.#.###.###.#.#.###.#.#####.#.#.#.###########.#####.#####.#######.#.#
#.....###...###...#.........#...#...#.#.#...#.#.#.#.....#.#...#...#.#.....#...#.###.#.#.#...#...#...#.#.#.#...........#...#...#...#...#...#.#
#.###.###.#.###.#.#########.#.#.#####.#.#.###.#.#.#.#####.#.###.#.#.#.#######.#.###.#.#.#.#####.#.###.#.#.#.###########.#.###.#.###.#.#.###.#
#...#.....#.....#.#.....###...#.....#.#.#...#.#.#.#...#...#...#.#.#.#.#...#...#...#.#...#.#...#.#.#...#...#...#...#.....#.....#...#.#.#.#...#
###.#############.#.###.###########.#.#.###.#.#.#.###.#.#####.#.#.#.#.#.#.#.#####.#.#####.#.#.#.#.#.#########.#.#.#.#############.#.#.#.#.###
###.............#.#...#.......#.....#.#...#.#.#.#.#...#.....#.#.#...#.#.#.#...###.#...#...#.#...#...#.........#.#.#.#...........#...#...#...#
###############.#.###.#######.#.#####.###.#.#.#.#.#.#######.#.#.#####.#.#.###.###.###.#.###.#########.#########.#.#.#.#########.###########.#
#...#...#...#...#.....#.......#.....#.....#.#.#.#.#...#.....#...###...#.#.#...#...#...#...#.......#...#.........#...#.#...#...#.........#...#
#.#.#.#.#.#.#.#########.###########.#######.#.#.#.###.#.###########.###.#.#.###.###.#####.#######.#.###.#############.#.#.#.#.#########.#.###
#.#.#.#.#.#.#.........#.....###...#.......#.#.#.#...#.#.......###...#...#.#.#...#...#####...#.....#.....#...........#...#...#...#...###...###
#.#.#.#.#.#.#########.#####.###.#.#######.#.#.#.###.#.#######.###.###.###.#.#.###.#########.#.###########.#########.###########.#.#.#########
#.#...#.#.#.#...#.....#.....#...#.#...#...#...#.#...#...#.....#...#...###...#...#.....#####.#.#.........#.........#.#.........#...#.........#
#.#####.#.#.#.#.#.#####.#####.###.#.#.#.#######.#.#####.#.#####.###.###########.#####.#####.#.#.#######.#########.#.#.#######.#############.#
#.....#.#.#...#.#.....#.....#...#...#.#...#.....#.#.....#.#...#...#.#...#.......#...#...#...#.#.#.....#...........#.#.......#...#...#.......#
#####.#.#.#####.#####.#####.###.#####.###.#.#####.#.#####.#.#.###.#.#.#.#.#######.#.###.#.###.#.#.###.#############.#######.###.#.#.#.#######
#.....#.#.....#.......#...#...#.....#.....#.....#.#.....#...#...#.#...#.#.....#...#.#...#...#.#.#.#...#...#.....###.......#.#...#.#.#.......#
#.#####.#####.#########.#.###.#####.###########.#.#####.#######.#.#####.#####.#.###.#.#####.#.#.#.#.###.#.#.###.#########.#.#.###.#.#######.#
#.....#.#...#...#.....#.#.#...#...#.........#...#.....#.#.......#.#.....#.....#...#.#.#...#.#.#...#.....#...#...#...#...#...#.....#.........#
#####.#.#.#.###.#.###.#.#.#.###.#.#########.#.#######.#.#.#######.#.#####.#######.#.#.#.#.#.#.###############.###.#.#.#.#####################
#.....#...#...#.#.#...#.#.#.....#.......#...#...#...#.#.#.......#.#.....#.......#.#.#.#.#.#...###...#.......#.....#...#.........#...###.....#
#.###########.#.#.#.###.#.#############.#.#####.#.#.#.#.#######.#.#####.#######.#.#.#.#.#.#######.#.#.#####.###################.#.#.###.###.#
#.....#...#...#...#.....#...#.........#.#.....#.#.#...#.....#...#.#...#.......#...#...#.#.#...#...#...#...#.....#...#...........#.#.....#...#
#####.#.#.#.###############.#.#######.#.#####.#.#.#########.#.###.#.#.#######.#########.#.#.#.#.#######.#.#####.#.#.#.###########.#######.###
#...#...#.#.....#...........#.#.......#.......#.#.....###...#.###.#.#.#.......###...###.#.#.#.#...#.....#.....#.#.#.#...#...#...#.#...#...###
#.#.#####.#####.#.###########.#.###############.#####.###.###.###.#.#.#.#########.#.###.#.#.#.###.#.#########.#.#.#.###.#.#.#.#.#.#.#.#.#####
#.#.#...#.....#.#.......#...#.#.#...###.......#.#...#...#...#...#...#.#...###...#.#.#...#...#.#...#.#.........#...#.....#.#...#...#.#...#...#
#.#.#.#.#####.#.#######.#.#.#.#.#.#.###.#####.#.#.#.###.###.###.#####.###.###.#.#.#.#.#######.#.###.#.###################.#########.#####.#.#
#.#...#.....#.#.#...###...#...#...#...#.#.....#...#...#...#...#.....#.....#...#...#...#...#...#...#.#...........###.....#.#.........#...#.#.#
#.#########.#.#.#.#.#################.#.#.###########.###.###.#####.#######.###########.#.#.#####.#.###########.###.###.#.#.#########.#.#.#.#
#...#.....#...#...#...........#.......#.#.....#...###...#...#.#...#.....#...#...........#.#...###...#.........#...#...#...#.......###.#...#.#
###.#.###.###################.#.#######.#####.#.#.#####.###.#.#.#.#####.#.###.###########.###.#######.#######.###.###.###########.###.#####.#
###...###...#.....#...#.....#...#...###.#.....#.#.#...#.#...#.#.#.#...#.#...#.#...........#...#...###.......#.#...###.#.........#.....#...#.#
###########.#.###.#.#.#.###.#####.#.###.#.#####.#.#.#.#.#.###.#.#.#.#.#.###.#.#.###########.###.#.#########.#.#.#####.#.#######.#######.#.#.#
#...........#.###...#...###.......#.....#.......#...#.#.#...#.#.#...#.#.#...#.#.........#...#...#...#.......#...#S....#...#...#...#...#.#.#.#
#.###########.#######################################.#.###.#.#.#####.#.#.###.#########.#.###.#####.#.###################.#.#.###.#.#.#.#.#.#
#...#...#...#.....#.......#...........#...#...#...#...#...#.#.#...#...#.#.#...#.........#.###.....#.#.....#########.....#...#...#...#.#.#...#
###.#.#.#.#.#####.#.#####.#.#########.#.#.#.#.#.#.#.#####.#.#.###.#.###.#.#.###.#########.#######.#.#####.#########.###.#######.#####.#.#####
###...#.#.#.#...#.#.....#.#.........#.#.#.#.#...#...#...#.#.#.....#.#...#...#...#.......#...###...#.......#######...###.#.....#...###...#...#
#######.#.#.#.#.#.#####.#.#########.#.#.#.#.#########.#.#.#.#######.#.#######.###.#####.###.###.#################.#####.#.###.###.#######.#.#
#.......#.#.#.#...#.....#...........#...#.#.#.........#.#...#...###...###...#.....#...#...#.....#...#############.....#.#.###...#...###...#.#
#.#######.#.#.#####.#####################.#.#.#########.#####.#.#########.#.#######.#.###.#######.#.#################.#.#.#####.###.###.###.#
#.......#.#.#...#...#.................###...#.#.........#...#.#.#...###...#...#.....#.###...#.....#.###.....#.....#...#...#...#...#.....#...#
#######.#.#.###.#.###.###############.#######.#.#########.#.#.#.#.#.###.#####.#.#####.#####.#.#####.###.###.#.###.#.#######.#.###.#######.###
#...###...#...#.#.#...#...#...........#...###.#.#.....###.#.#.#.#.#.#...#.....#.....#.......#...#...###...#...###.#.....#...#...#...#.....###
#.#.#########.#.#.#.###.#.#.###########.#.###.#.#.###.###.#.#.#.#.#.#.###.#########.###########.#.#######.#######.#####.#.#####.###.#.#######
#.#.#...#...#.#.#...#...#...#...#.......#...#.#.#...#.#...#...#...#.#.#...#...#.....#.........#.#E#######.......#.......#...#...###...###...#
#.#.#.#.#.#.#.#.#####.#######.#.#.#########.#.#.###.#.#.###########.#.#.###.#.#.#####.#######.#.###############.###########.#.###########.#.#
#.#.#.#.#.#.#...#...#.........#...#.........#.#...#.#...#...........#.#...#.#.#.#.....#.......#...#####.......#.........#...#...#...#...#.#.#
#.#.#.#.#.#.#####.#.###############.#########.###.#.#####.###########.###.#.#.#.#.#####.#########.#####.#####.#########.#.#####.#.#.#.#.#.#.#
#.#...#...#.......#.........###...#...#...###.#...#.#.....###...#...#.#...#.#.#...#...#...........#####.....#.#...#.....#...#...#.#.#.#...#.#
#.#########################.###.#.###.#.#.###.#.###.#.#######.#.#.#.#.#.###.#.#####.#.#####################.#.#.#.#.#######.#.###.#.#.#####.#
#.#...#.....#...#...#.....#.#...#.....#.#.#...#.....#.......#.#...#.#.#...#.#.#.....#.#.....#...#...#.......#...#...###...#.#.#...#.#...#...#
#.#.#.#.###.#.#.#.#.#.###.#.#.#########.#.#.###############.#.#####.#.###.#.#.#.#####.#.###.#.#.#.#.#.#################.#.#.#.#.###.###.#.###
#.#.#.#.#...#.#...#...#...#...#.....###.#.#.....#...........#.#.....#...#.#.#.#.....#...#...#.#.#.#.#.#...#...#...#...#.#.#.#...#...###.#...#
#.#.#.#.#.###.#########.#######.###.###.#.#####.#.###########.#.#######.#.#.#.#####.#####.###.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#.#####.#####.###.#
#...#...#...#.#.....###...#.....###.....#.......#.............#.....#...#...#.#.....#...#.....#.#.#.#...#...#...#...#.#.#.#...#...#...#.#...#
###########.#.#.###.#####.#.#######################################.#.#######.#.#####.#.#######.#.#.#################.#.#.###.#.###.#.#.#.###
#.......###...#...#...#...#.#.........#.....#.....#.............#...#...#.....#.......#.......#.#.#...#...........#...#.#.#...#.#...#...#...#
#.#####.#########.###.#.###.#.#######.#.###.#.###.#.###########.#.#####.#.###################.#.#.###.#.#########.#.###.#.#.###.#.#########.#
#.....#.#...#...#...#...#...#.......#...#...#.#...#.....#.....#...#.....#.......#...#.........#.#.#...#.........#...#...#...#...#.#.....#...#
#####.#.#.#.#.#.###.#####.#########.#####.###.#.#######.#.###.#####.###########.#.#.#.#########.#.#.###########.#####.#######.###.#.###.#.###
#.....#...#...#.###.....#.#...#...#.....#.....#.#...#...#...#.#...#.....#.......#.#.#.........#.#.#...........#.......#.....#.....#...#.#...#
#.#############.#######.#.#.#.#.#.#####.#######.#.#.#.#####.#.#.#.#####.#.#######.#.#########.#.#.###########.#########.###.#########.#.###.#
#.........#...#.........#.#.#...#.......#...###...#...#####.#.#.#...#...#...#...#.#.#...#...#.#.#...#.....###...#.....#.###...#...#...#.....#
#########.#.#.###########.#.#############.#.###############.#.#.###.#.#####.#.#.#.#.#.#.#.#.#.#.###.#.###.#####.#.###.#.#####.#.#.#.#########
#.........#.#...#...#...#.#...........#...#.#...#...#...#...#.#.#...#...#...#.#...#.#.#...#.#.#.###...###.....#.#...#.#.....#...#.#.#.......#
#.#########.###.#.#.#.#.#.###########.#.###.#.#.#.#.#.#.#.###.#.#.#####.#.###.#####.#.#####.#.#.#############.#.###.#.#####.#####.#.#.#####.#
#.....#.....###...#...#...###.........#...#.#.#.#.#.#.#.#...#.#.#.#...#.#.###.....#.#.....#.#.#.#...#.........#.#...#.....#.....#.#...#.....#
#####.#.#####################.###########.#.#.#.#.#.#.#.###.#.#.#.#.#.#.#.#######.#.#####.#.#.#.#.#.#.#########.#.#######.#####.#.#####.#####
#.....#.#.....#.......#...#...#.......#...#.#.#.#.#.#.#.#...#.#.#...#.#.#.#...#...#.....#.#...#.#.#.#.#.......#...#...###.....#.#.....#.....#
#.#####.#.###.#.#####.#.#.#.###.#####.#.###.#.#.#.#.#.#.#.###.#.#####.#.#.#.#.#.#######.#.#####.#.#.#.#.#####.#####.#.#######.#.#####.#####.#
#.#...#.#...#...#...#...#.#...#.#.....#.#...#.#.#.#.#.#.#.#...#.#.....#.#.#.#.#.......#.#...#...#.#.#...#...#.......#.......#...#.....#.....#
#.#.#.#.###.#####.#.#####.###.#.#.#####.#.###.#.#.#.#.#.#.#.###.#.#####.#.#.#.#######.#.###.#.###.#.#####.#.###############.#####.#####.#####
#...#...###...#...#.....#.###.#.#...#...#...#.#...#.#.#...#...#.#.....#.#.#.#...#.....#.#...#...#.#.#...#.#.#...#.....#...#.....#.....#.....#
#############.#.#######.#.###.#.###.#.#####.#.#####.#.#######.#.#####.#.#.#.###.#.#####.#.#####.#.#.#.#.#.#.#.#.#.###.#.#.#####.#####.#####.#
#.....#...###...#.......#.....#...#...#.....#.#.....#.....#...#.....#.#.#.#...#.#.#.....#...#...#.#.#.#...#.#.#.#...#.#.#.....#...#...#.....#
#.###.#.#.#######.###############.#####.#####.#.#########.#.#######.#.#.#.###.#.#.#.#######.#.###.#.#.#####.#.#.###.#.#.#####.###.#.###.#####
#...#.#.#.#.....#.........#...#...#...#.#.....#.#...#...#.#...#...#.#.#.#...#.#...#.....#...#...#.#.#.....#.#.#.#...#.#.....#...#.#...#.....#
###.#.#.#.#.###.#########.#.#.#.###.#.#.#.#####.#.#.#.#.#.###.#.#.#.#.#.###.#.#########.#.#####.#.#.#####.#.#.#.#.###.#####.###.#.###.#####.#
#...#...#...#...#...#...#.#.#.#.#...#...#.#.....#.#.#.#...###.#.#...#.#.###...#.........#...#...#.#...#...#.#.#.#.###...#...###...###...#...#
#.###########.###.#.#.#.#.#.#.#.#.#######.#.#####.#.#.#######.#.#####.#.#######.###########.#.###.###.#.###.#.#.#.#####.#.#############.#.###
#...........#.#...#...#...#.#...#.#.....#.#...#...#...###.....#.....#.#.....###.....#.....#.#.#...###.#...#.#.#.#.....#.#...###...#...#.#...#
###########.#.#.###########.#####.#.###.#.###.#.#########.#########.#.#####.#######.#.###.#.#.#.#####.###.#.#.#.#####.#.###.###.#.#.#.#.###.#
#.....#.....#...#...#...#...#.....#...#...###.#.........#.#...#...#.#...#...#.....#.#.###.#.#.#.....#.#...#.#.#.#...#.#.#...#...#...#.#.#...#
#.###.#.#########.#.#.#.#.###.#######.#######.#########.#.#.#.#.#.#.###.#.###.###.#.#.###.#.#.#####.#.#.###.#.#.#.#.#.#.#.###.#######.#.#.###
#.#...#.....#...#.#.#.#.#.#...#.......#.......#...#...#.#.#.#.#.#...#...#.###...#...#...#.#.#...#...#.#...#.#.#.#.#...#.#.....#...#...#.#...#
#.#.#######.#.#.#.#.#.#.#.#.###.#######.#######.#.#.#.#.#.#.#.#.#####.###.#####.#######.#.#.###.#.###.###.#.#.#.#.#####.#######.#.#.###.###.#
#.#.###...#.#.#.#.#.#.#.#.#...#.......#...#...#.#.#.#.#.#...#.#.....#...#.#.....#...#...#.#.###.#...#.#...#...#.#.....#.#...#...#.#.###...#.#
#.#.###.#.#.#.#.#.#.#.#.#.###.#######.###.#.#.#.#.#.#.#.#####.#####.###.#.#.#####.#.#.###.#.###.###.#.#.#######.#####.#.#.#.#.###.#.#####.#.#
#.#.....#...#.#.#.#.#.#...#...#.....#.#...#.#.#.#...#...###...#...#...#.#.#.....#.#.#.#...#...#.....#.#.......#.#...#.#...#.#...#.#.....#.#.#
#.###########.#.#.#.#.#####.###.###.#.#.###.#.#.###########.###.#.###.#.#.#####.#.#.#.#.#####.#######.#######.#.#.#.#.#####.###.#.#####.#.#.#
#...#.....#...#.#.#.#.###...#...###...#.#...#.#...#.........#...#.#...#.#.#.....#.#.#.#.#...#.#...###.....#...#.#.#.#.###...#...#.#.....#...#
###.#.###.#.###.#.#.#.###.###.#########.#.###.###.#.#########.###.#.###.#.#.#####.#.#.#.#.#.#.#.#.#######.#.###.#.#.#.###.###.###.#.#########
#...#.#...#...#...#.#.#...#...#.........#...#.....#.....#...#.#...#...#.#.#.....#.#.#.#.#.#.#...#.......#.#...#.#.#.#.#...#...###...#...#...#
#.###.#.#####.#####.#.#.###.###.###########.###########.#.#.#.#.#####.#.#.#####.#.#.#.#.#.#.###########.#.###.#.#.#.#.#.###.#########.#.#.#.#
#...#.#.#...#.....#.#.#...#...#.......#...#...#.......#.#.#.#.#...#...#...#...#.#.#...#.#.#.#...#.......#.#...#.#.#...#...#...........#...#.#
###.#.#.#.#.#####.#.#.###.###.#######.#.#.###.#.#####.#.#.#.#.###.#.#######.#.#.#.#####.#.#.#.#.#.#######.#.###.#.#######.#################.#
###.#.#.#.#.......#.#.#...#...#.......#.#.#...#.#...#...#.#.#.###.#...#.....#...#...#...#.#...#.#.......#...#...#.###...#.#...#...#...#.....#
###.#.#.#.#########.#.#.###.###.#######.#.#.###.#.#.#####.#.#.###.###.#.###########.#.###.#####.#######.#####.###.###.#.#.#.#.#.#.#.#.#.#####
#...#.#.#.........#...#...#...#.#...#...#.#.###...#...#...#...#...#...#.......#.....#...#...#...#.....#.....#...#.....#.#...#.#.#.#.#.#.....#
#.###.#.#########.#######.###.#.#.#.#.###.#.#########.#.#######.###.#########.#.#######.###.#.###.###.#####.###.#######.#####.#.#.#.#.#####.#
#.#...#...#.......#...###.#...#.#.#...#...#.#.........#.......#...#...#.......#...#.....#...#.#...###.#.....#...#...#...###...#.#.#.#.#.....#
#.#.#####.#.#######.#.###.#.###.#.#####.###.#.###############.###.###.#.#########.#.#####.###.#.#####.#.#####.###.#.#.#####.###.#.#.#.#.#####
#.#...#...#.......#.#...#.#...#.#...###...#.#.#...#.....#.....#...#...#.#...#.....#...#...#...#.....#.#.....#...#.#.#.#...#.#...#...#.#.....#
#.###.#.#########.#.###.#.###.#.###.#####.#.#.#.#.#.###.#.#####.###.###.#.#.#.#######.#.###.#######.#.#####.###.#.#.#.#.#.#.#.#######.#####.#
#...#.#...#...#...#...#...#...#.#...#.....#.#.#.#.#...#.#.#.....#...#...#.#.#.#.......#.#...#...#...#.#...#...#.#.#.#...#.#.#.#.......#...#.#
###.#.###.#.#.#.#####.#####.###.#.###.#####.#.#.#.###.#.#.#.#####.###.###.#.#.#.#######.#.###.#.#.###.#.#.###.#.#.#.#####.#.#.#.#######.#.#.#
###...###...#...#####.......###...###.......#...#.....#...#.......###.....#...#.........#.....#...###...#.....#...#.......#...#.........#...#
#############################################################################################################################################"""

originalBlocks = set()
for y, row in enumerate(data.split("\n")):
    for x, letter in enumerate(row):
        pos = x + y*1j
        if letter == "S":
            start = pos
        elif letter == "E":
            end = pos
        elif letter == "#":
            originalBlocks.add(pos)


class Node:
    def __init__(self, position, end, parrent = None):
        self.parrent = parrent
        self.position = position

        if parrent != None:
            self.cost = parrent.cost + 1 
        else:
            self.cost = 0
        self.distance = abs(end - self.position)
    
    def fullCost(self): return self.cost + self.distance
    
    def __str__(self): return f"{self.position.real}, {self.position.imag}"
    def __hash__(self): return hash(str(self))
    def __eq__(self, other): 
        if other == None:
            return False
        else:
            return self.position   == other.position
    def __lt__(self, other): return self.fullCost() <  other.fullCost()
    def __gt__(self, other): return self.fullCost() >  other.fullCost()
    def __ge__(self, other): return self.fullCost() >= other.fullCost()
    def __le__(self, other): return self.fullCost() <= other.fullCost()

def draw(size, positions, blocks):
    for y in range(size):
        row = ""
        for x in range(size):
            if x+y*1j in blocks:
                row += "#"
            elif x+y*1j in positions:
                row += "O"
            else:
                row += "."
        print(row)

def aStar(blocks, size, start, end):
    start = Node(start, end)
    end = Node(end, end)
    opened = {str(start): start}
    closed = set()

    while len(opened) != 0:
        node = min(opened.values())
    
        closed.add(node)
        opened.pop(str(node))

        if node == end:
            path = []
            current = node
            while current != None:
                path.append(current.position)
                current = current.parrent
            return path

        for i in [1+0j, 0+1j, -1+0j, 0-1j]:
            newPos = node.position + i
            # collision
            if newPos in blocks or newPos.real < 0 or newPos.real > size or newPos.imag < 0 or newPos.imag > size:
                continue

            child = Node(newPos, end.position, node)

            if child in closed:
                continue

            if str(child) in opened:
                if opened[str(child)] > child:
                    opened[str(child)] = child
            else:
                opened[str(child)] = child

    return None

# size = data.find("\n")
# times = [0 for i in range(len(aStar(originalBlocks, size, start, end)))]
# for y in range(1,size-1):
#     print(y)
#     for x in range(1,size-1):
#         if x+y*1j in originalBlocks:
#             blocks = copy(originalBlocks)
#                     p = (x+dx) + (y+dy)*1j
#                     if p in blocks:
#                         blocks.remove(p)
#             times[len(aStar(blocks, size, start, end))-1] += 1

size = data.find("\n")
times = [0 for i in range(len(aStar(originalBlocks, size, start, end)))]
path = aStar(originalBlocks, size, start, end)
for index1, path1 in enumerate(path):
    for index2, path2 in enumerate(path):
        if index1 >= index2:
            continue
        dz = path2 - path1
        distance = abs(dz.real) + abs(dz.imag)
        if distance > 20:
            continue

        time = index1 + distance + len(times) - index2
        if time != 0 and time < len(times):
            times[int(time)] += 1

print(times)
print(sum(times[:-99]))
# too low 1017908